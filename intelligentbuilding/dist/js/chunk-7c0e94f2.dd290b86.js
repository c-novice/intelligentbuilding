(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c0e94f2"],{"12ec":function(p,t,i){},"311f":function(p,t,i){"use strict";i.r(t);var e=function(){var p=this,t=p.$createElement,e=p._self._c||t;return e("el-container",[e("el-header",{staticClass:"head",attrs:{height:"35px"}},[e("el-image",{staticStyle:{height:"65%"},attrs:{src:i("93a2")},on:{click:p.goBack}}),e("div",{staticStyle:{"margin-right":"20px","margin-left":"5px"},on:{click:p.goBack}},[p._v("返回")]),e("el-switch",{attrs:{disabled:!p.ableRoaming,"active-text":"漫游模式","inactive-text":" "},on:{change:p.roamingChange},model:{value:p.switchRoaming,callback:function(t){p.switchRoaming=t},expression:"switchRoaming"}}),e("el-switch",{attrs:{disabled:!p.ablePatrol,"active-text":"楼层巡视","inactive-text":" "},on:{change:p.patrolChange},model:{value:p.switchPatrol,callback:function(t){p.switchPatrol=t},expression:"switchPatrol"}})],1),e("div",{attrs:{id:"container"}})],1)},o=[],a=(i("4795"),i("0d03"),i("d3b7"),i("25f0"),i("5a89")),n=i("4721"),s=i("34ad"),r=i("fa06"),l=null,c=null,x=null,y=new Array(10),A=new Array(10),h=new Array(1e3),g=new Array(1e3),z={data:function(){return{cur:null,ableRoaming:!0,switchRoaming:!1,ablePatrol:!0,switchPatrol:!1}},destroyed:function(){this.ableRoaming=!0,this.switchRoaming=!1,this.ablePatrol=!0,this.switchPatrol=!1;for(var p=0;p<70;++p)null!=h[p]&&h[p].stop();for(var t=100;t<700;++t)null!=h[t]&&h[t].stop()},mounted:function(){this.cur=this.$route.query.cur,this.init(),this.animate()},methods:{roamingChange:function(p){var t=this;if(this.switchRoaming=!!this.switchRoaming,p){this.ablePatrol=!1,this.ableTree=!0;var i=this.cur;h[i%10*10].start(),this.$message.success("您已进入漫游模式");var e=1;document.onclick=function(){if(t.switchRoaming)if(e=(e+1)%2,0===e)h[i%10*10].start();else if(1===e)for(var p=0,o=setInterval((function(){p++,4===p&&(h[i%10*10].start(),clearInterval(o),e=0)}),1e3),a=0;a<70;++a)null!=h[a]&&h[a].stop()}}else{this.$message.success("您已退出漫游模式"),this.ablePatrol=!0,this.ableTree=!1;for(var o=0;o<70;++o)null!=h[o]&&h[o].stop()}},patrolChange:function(p){var t=this;if(this.switchPatrol=!!this.switchPatrol,p){this.ableRoaming=!1,this.ableTree=!0;var i=this.cur;h[i%10*100].start();var e=1;document.onclick=function(){if(t.switchPatrol)if(e=(e+1)%2,0===e)t.$message.success("您已进入巡视模式，点击触摸屏会暂停15s"),h[i%10*100].start();else if(1===e)for(var p=0,o=setInterval((function(){p++,4===p&&(h[i%10*100].start(),clearInterval(o),e=0)}),1e3),a=100;a<700;++a)null!=h[a]&&h[a].stop()}}else{this.$message.success("您已退出巡视模式"),this.ableRoaming=!0,this.ableTree=!1;for(var o=100;o<700;++o)null!=h[o]&&h[o].stop()}},goBack:function(){this.$router.push({name:"home"})},init:function(){var p=this;this.container=document.getElementById("container"),this.container.style.height=window.innerHeight+"px",l=new a["db"],this.renderer=new a["sb"]({antialias:!0,alpha:!0}),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.container.appendChild(this.renderer.domElement);var t=45,i=2,e=.1,o=50;this.container=document.getElementById("container"),x=new a["U"](t,i,e,o),x.position.set(25,15,15),x.lookAt(0,0,0);var s=new a["V"](16777215);s.position.set(400,200,300),l.add(s);var y=new a["a"](4473924);l.add(y),this.clock=new a["i"],window.onresize=function(){p.renderer.setSize(window.innerWidth,window.innerHeight),x.aspect=window.innerWidth/window.innerHeight,x.updateProjectionMatrix()},c=new n["a"](x,this.renderer.domElement),c.target.set(5,0,-10),c.update(),"6"===this.cur?this.objectLoader("./static/6L2/6L2.gltf","floor",6):this.objectLoader("./static/"+this.cur.toString()+"L/"+this.cur.toString()+"L.gltf","floor",this.cur),g[0]={px:20,py:10,pz:10},g[1]={px:25,pz:-22,py:10},g[2]={px:-13,pz:-22,py:10},g[3]={px:-16,pz:10,py:10},g[4]={px:20,py:10,pz:10},g[10]={px:20,py:5,pz:10},g[11]={px:25,pz:-22,py:5},g[12]={px:-13,pz:-22,py:5},g[13]={px:-16,pz:10,py:5},g[14]={px:20,py:5,pz:10},g[20]={px:20,py:6,pz:10},g[21]={px:25,pz:-22,py:6},g[22]={px:-13,pz:-22,py:6},g[23]={px:-16,pz:10,py:6},g[24]={px:20,py:6,pz:10},g[30]={px:20,py:7,pz:10},g[31]={px:25,pz:-22,py:7},g[32]={px:-13,pz:-22,py:7},g[33]={px:-16,pz:10,py:7},g[34]={px:20,py:7,pz:10},g[40]={px:20,py:8,pz:10},g[41]={px:25,pz:-22,py:8},g[42]={px:-13,pz:-22,py:8},g[43]={px:-16,pz:10,py:8},g[44]={px:20,py:8,pz:10},g[50]={px:20,py:9,pz:10},g[51]={px:25,pz:-22,py:9},g[52]={px:-13,pz:-22,py:9},g[53]={px:-16,pz:10,py:9},g[54]={px:20,py:9,pz:10},g[60]={px:20,py:10,pz:10},g[61]={px:25,pz:-22,py:10},g[62]={px:-13,pz:-22,py:10},g[63]={px:-16,pz:10,py:10},g[64]={px:-16,pz:10,py:10};for(var A=function(p){for(var t=0;t<=4;++t)h[10*p+t]=new r["a"].Tween(g[10*p+t]).to(g[(t+1)%5===0?10*p+t-4:10*p+t+1],3500).onUpdate((function(t){x.position.x=t.px,x.position.z=t.pz,x.position.y=t.py,0===p?x.lookAt(6.5,1,-6):1===p?x.lookAt(6.5,2,-6):2===p?x.lookAt(6.5,2,-6):3===p?x.lookAt(6.5,3,-6):4===p?x.lookAt(6.5,4,-6):5===p?x.lookAt(6.5,4,-6):6===p&&x.lookAt(6.5,5,-6)})),h[10*p+t].easing(r["a"].Easing.Quadratic.Out)},z=0;z<=6;++z)A(z);for(var k=0;k<=6;++k)for(var I=0;I<=4;++I)h[10*k+I].chain(h[(I+1)%5===0?10*k+I-4:10*k+I+1]);g[100]={px:2.12,pz:-9.75,py:.31},g[101]={px:10.4,pz:-9.75,py:.31},g[102]={px:10.4,pz:-9.75,py:.31},g[103]={px:10.4,pz:-2,py:.31},g[104]={px:10.4,pz:-2,py:.31},g[105]={px:2.12,pz:-2,py:.31},g[106]={px:2.12,pz:-2,py:.31},g[107]={px:2.12,pz:-9.75,py:.31},g[108]={px:2.12,pz:-9.75,py:.31},g[200]={px:2.12,pz:-9.75,py:1.2},g[201]={px:10.4,pz:-9.75,py:1.2},g[202]={px:10.4,pz:-9.75,py:1.2},g[203]={px:10.4,pz:-2,py:1.2},g[204]={px:10.4,pz:-2,py:1.2},g[205]={px:2.12,pz:-2,py:1.2},g[206]={px:2.12,pz:-2,py:1.2},g[207]={px:2.12,pz:-9.75,py:1.2},g[208]={px:2.12,pz:-9.75,py:1.2},g[300]={px:2.12,pz:-9.75,py:1.98},g[301]={px:10.4,pz:-9.75,py:1.98},g[302]={px:10.4,pz:-9.75,py:1.98},g[303]={px:10.4,pz:-2,py:1.98},g[304]={px:10.4,pz:-2,py:1.98},g[305]={px:2.12,pz:-2,py:1.98},g[306]={px:2.12,pz:-2,py:1.98},g[307]={px:2.12,pz:-9.75,py:1.98},g[308]={px:2.12,pz:-9.75,py:1.98},g[400]={px:2.12,pz:-9.75,py:2.87},g[401]={px:10.4,pz:-9.75,py:2.87},g[402]={px:10.4,pz:-9.75,py:2.87},g[403]={px:10.4,pz:-2,py:2.87},g[404]={px:10.4,pz:-2,py:2.87},g[405]={px:2.12,pz:-2,py:2.87},g[406]={px:2.12,pz:-2,py:2.87},g[407]={px:2.12,pz:-9.75,py:2.87},g[408]={px:2.12,pz:-9.75,py:2.87},g[500]={px:2.12,pz:-9.75,py:3.77},g[501]={px:10.4,pz:-9.75,py:3.77},g[502]={px:10.4,pz:-9.75,py:3.77},g[503]={px:10.4,pz:-2,py:3.77},g[504]={px:10.4,pz:-2,py:3.77},g[505]={px:2.12,pz:-2,py:3.77},g[506]={px:2.12,pz:-2,py:3.77},g[507]={px:2.12,pz:-9.75,py:3.77},g[508]={px:2.12,pz:-9.75,py:3.77},g[600]={px:2.12,pz:-9.75,py:4.57},g[601]={px:10.4,pz:-9.75,py:4.57},g[602]={px:10.4,pz:-9.75,py:4.57},g[603]={px:10.4,pz:-2,py:4.57},g[604]={px:10.4,pz:-2,py:4.57},g[605]={px:2.12,pz:-2,py:4.57},g[606]={px:2.12,pz:-2,py:4.57},g[607]={px:2.12,pz:-9.75,py:4.57},g[608]={px:2.12,pz:-9.75,py:4.57};for(var u=function(p){for(var t=0;t<=8;t++){var i=2;t%2!==0&&(i=1),h[100*p+t]=new r["a"].Tween(g[100*p+t]).to(g[(t+1)%9===0?100*p+t-8:100*p+t+1],5e3*i).onUpdate((function(t){x.position.x=t.px,x.position.z=t.pz,x.position.y=t.py;for(var i=0;i<=8;++i)g[100*p+i].px=Math.floor(100*g[100*p+i].px)/100;if(x.position.x>g[100*p].px&&x.position.x<g[100*p+1].px&&x.position.z===g[100*p].pz)switch(p){case 1:x.lookAt(10.4,.31,-9.75);break;case 2:x.lookAt(10.4,1.2,-9.75);break;case 3:x.lookAt(10.4,1.98,-9.75);break;case 4:x.lookAt(10.4,2.87,-9.75);break;case 5:x.lookAt(10.4,3.77,-9.75);break;case 6:x.lookAt(10.4,4.57,-9.75)}else if(x.position.z>g[100*p+1].pz&&x.position.z<g[100*p+3].pz&&x.position.x===g[100*p+3].px)switch(p){case 1:x.lookAt(10.4,.31,-2);break;case 2:x.lookAt(10.4,1.2,-2);break;case 3:x.lookAt(10.4,1.98,-2);break;case 4:x.lookAt(10.4,2.87,-2);break;case 5:x.lookAt(10.4,3.77,-2);break;case 6:x.lookAt(10.4,4.57,-2)}else if(x.position.x>g[100*p+5].px&&x.position.x<g[100*p+3].px&&x.position.z===g[100*p+5].pz)switch(p){case 1:x.lookAt(2.12,.31,-2);break;case 2:x.lookAt(2.12,1.2,-2);break;case 3:x.lookAt(2.12,1.98,-2);break;case 4:x.lookAt(2.12,2.87,-2);break;case 5:x.lookAt(2.12,3.77,-2);break;case 6:x.lookAt(2.12,4.57,-2)}else if(x.position.z>g[100*p].pz&&x.position.z<g[100*p+5].pz&&x.position.x===g[100*p].pz)switch(p){case 1:x.lookAt(2.12,.31,-9.75);break;case 2:x.lookAt(2.12,1.2,-9.75);break;case 3:x.lookAt(2.12,1.98,-9.75);break;case 4:x.lookAt(2.12,2.87,-9.75);break;case 5:x.lookAt(2.12,3.77,-9.75);break;case 6:x.lookAt(2.12,4.57,-9.75)}else x.position.z===g[100*p].pz&&x.position.x===g[100*p].px&&x.position.y===g[100*p].py?x.rotateY(-.016):x.position.z===[100*p+1].pz&&x.position.x===g[100*p+1].px&&x.position.y===g[100*p+1].py?x.rotateY(-.016):x.position.z===g[100*p+3].pz&&x.position.x===g[100*p+3].px&&x.position.y===g[100*p+3].py?x.rotateY(.016):x.position.z===g[100*p+5].pz&&x.position.x===g[100*p+5].px&&x.position.y===g[100*p+5].py&&x.rotateY(-.016)})),h[100*p+t].easing(r["a"].Easing.Quadratic.Out)}},E=1;E<=6;++E)u(E);for(var f=1;f<=6;++f)for(var d=0;d<=8;++d)h[100*f+d].chain(h[(d+1)%9===0?100*f+d-8:100*f+d+1])},animate:function(){r["a"].update(),requestAnimationFrame(this.animate),this.renderer.render(l,x)},objectLoader:function(p,t,i){this.gltfLoader=new s["a"],this.gltfLoader.load(p,(function(p){var e=p.scene;e.position.x=e.position.y=e.position.z=0,e.scale.x=e.scale.y=e.scale.z=.2,"floor"===t?(y[i]=new a["p"],y[i].add(e),l.add(y[i]),y[i].visible=!0):"context"===t&&(A[i]=new a["p"],A[i].add(e),l.add(A[i]),A[i].visible=!0)}))}}},k=z,I=(i("bd89"),i("2877")),u=Object(I["a"])(k,e,o,!1,null,null,null);t["default"]=u.exports},"93a2":function(p,t){p.exports="data:image/png;base64,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"},bd89:function(p,t,i){"use strict";var e=i("12ec"),o=i.n(e);o.a}}]);
//# sourceMappingURL=chunk-7c0e94f2.dd290b86.js.map